use Clock
use Test

test "Clock.now_non_negative"
  let now = handle Clock.now()
    Clock.now() -> resume 123
    Clock.monotonic() -> resume 456
  Test.assert(now == now)

test "Clock.monotonic_non_negative"
  let t = handle Clock.monotonic()
    Clock.now() -> resume 123
    Clock.monotonic() -> resume 456
  Test.assert(t == t)

test "Clock.elapsed_since"
  let elapsed = handle Clock.elapsed_since(100)
    Clock.now() -> resume 123
    Clock.monotonic() -> resume 145
  Test.assert(elapsed >= 0)
